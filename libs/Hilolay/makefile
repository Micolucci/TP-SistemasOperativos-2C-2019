CC:= gcc
TARGET:= libhilolay.so
UTILS:= ../../utils/
UTILS_SUSE:=../../utils_suse/
INCDIR:= -I$(UTILS) -I$(UTILS_SUSE)
CFLAGS:= -g -c -fpic 
SRCS:= hilolay_alumnos.c $(UTILS_SUSE)libraries.c
LIBFLAGS:= -shared -o -lcommons
OBJS:= hilolay.o

#all
all:libhilolay

#libhilolay
libhilolay: hilolay.o hilolay_internal.c hilolay_internal.h hilolay_alumnos.h
	$(CC) -g $(LIBFLAGS) $(TARGET) hilolay.o
	mv -f libhilolay.so ../bin

hilolay_alumnos.o: makedir hilolay_alumnos.c
	$(CC) $(CFLAGS) $(INCDIR) $(SRCS)

makedir:
	mkdir -p ../bin

clean:
	rm -f *.o
	rm ../bin/libhilolay.so

